<!--script type="application/javascript" charset="utf-8">
    $.extend( $.fn.dataTableExt.oStdClasses, {
        "sSortAsc": "header headerSortDown",
        "sSortDesc": "header headerSortUp",
        "sSortable": "header"
    } );
    $(document).ready(function() {
        $('#rolesTable').dataTable( {
            "sDom": "<'row'<'span8'l><'span8'f>r>t<'row'<'span8'i><'span8'p>>",
            "sPaginationType": "bootstrap",
            "oLanguage": {
                "sLengthMenu": "_MENU_ records per page"
            }
        } );
    } );
</script-->
<div class="row subheader-button-area">
    <div class="row-fluid">
        <div class=""><h2>Role Management</h2></div>
        <div class="button-bar">
            <a ng-click="addRole($scope, $http)" class="btn">
                <img src="../images/dialogs/role/Users--plus.png" class="pull-left"/>
            </a>
            <a ng-click="deleteRole($scope, $http)" class="btn">
                <img src="../images/dialogs/role/Users--minus.png" class="pull-left"/>
            </a>
            <a ng-click="saveRole($scope, $http)" class="btn">
                <img src="../images/dialogs/role/Users--save.png" class="pull-left"/>
            </a>
            <a ng-click="loadRoles($scope, $http)" class="btn">
                <img src="../images/core/refresh.png" class="pull-left"/>
            </a>
        </div>
    </div>
</div>
<div class="row">
    <div class="span10">
        <table id="rolesTable" cellpadding="0" cellspacing="0" border="0"
               class="table table-striped table-bordered table-hover table-condensed">
            <thead>
            <tr>
                <th style="width: 20%" class="named-div">Role name</th>
                <th style="width: 80%" class="named-div">Description</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="role in roleEntities" ng-click="onRoleSelected($index)">
                <td>{{role.name}}</td>
                <td>{{role.description}}</td>
            </tr>
            </tbody>
        </table>
    </div>
</div>
<div style="margin-top: 5px" class="row">
    <div class="span5">
        <div class="row" style="margin-left:0px;margin-top: 5px">
            <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-hover table-condensed">
                <thead>
                <tr>
                    <th style="width: 20%" class="named-div"><span>Assigned Grants
                        <a ng-click="addRole($scope, $http)">
                        <img src="../images/dialogs/role/grant--add.png" class="btn pull-right"/>
                    </a></span></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="grant in grants">
                    <td>{{grant.description}}</td>
                </tr>
                </tbody>
                <tfoot>
                   <tr>
                       <td>
                           <ul class="pager">
                               <li class="previous {{prevButton.hidden == true && 'disabled' || ''}}" ng-if="prevButton.enabled">
                                   <a ng-click="previousGrantsPage()" ng-if="!prevButton.hidden">Previous</a>
                                   <span ng-if="prevButton.hidden">Previous</span>
                               </li>
                               <li class="next {{nextButton.hidden == true && 'disabled' || ''}}" ng-if="nextButton.enabled">
                                   <a ng-click="nextGrantsPage()" ng-if="!nextButton.hidden">Next</a>
                                   <span ng-if="nextButton.hidden">Next</span>
                               </li>
                           </ul>
                       </td>
                   </tr>
                </tfoot>
            </table>
        </div>
    </div>
    <div class="span5">
        <div class="row" style="margin-left:0px;margin-top: 5px">
            <table cellpadding="0" cellspacing="0" border="0" class="table table-striped table-bordered table-hover table-condensed">
                <thead>
                <tr>
                    <th style="width: 20%" class="named-div">Assigned Users <a ng-click="addRole($scope, $http)">
                        <img src="../images/dialogs/role/User--plus.png" class="btn pull-right"/>
                    </a> <a ng-click="addRole($scope, $http)">
                        <img src="../images/dialogs/role/User--minus.png" class="btn pull-right"/>
                    </a></th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="user in selectedRole.users">
                    <td>{{user.fullname}} ({{user.username}})</td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>